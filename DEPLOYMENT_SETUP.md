# Настройка автоматического развертывания на presencepro.rankzela.com

## Вариант 1: FTP развертывание (рекомендуется для статических сайтов)

### Шаги настройки:

1. **Перейдите в настройки репозитория на GitHub:**
   - Откройте ваш репозиторий на GitHub
   - Перейдите в Settings → Secrets and variables → Actions

2. **Добавьте следующие секреты:**
   - `FTP_SERVER` - адрес вашего FTP сервера (например: ftp.presencepro.rankzela.com)
   - `FTP_USERNAME` - ваше FTP имя пользователя
   - `FTP_PASSWORD` - ваш FTP пароль
   - `FTP_SERVER_DIR` - папка на сервере, куда загружать файлы (например: /public_html/)

3. **Активируйте workflow:**
   - Перейдите в раздел Actions на GitHub
   - Найдите workflow "Deploy to PresencePro via FTP"
   - Нажмите "Run workflow"

## Вариант 2: SSH развертывание (для VPS/выделенных серверов)

### Шаги настройки:

1. **Создайте SSH ключ для GitHub Actions:**
   ```bash
   ssh-keygen -t rsa -b 4096 -C "github-actions@your-domain.com"
   ```

2. **Добавьте публичный ключ на сервер:**
   ```bash
   cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys
   ```

3. **Добавьте секреты в GitHub:**
   - `SERVER_HOST` - IP адрес или домен вашего сервера
   - `SERVER_USERNAME` - имя пользователя для SSH
   - `SERVER_SSH_KEY` - приватный SSH ключ
   - `SERVER_PORT` - порт SSH (обычно 22)

## Использование

После настройки секретов, каждый раз когда вы загружаете изменения:

```bash
./tools/deploy.sh
```

Или вручную:
```bash
git add .
git commit -m "Описание изменений"
git push origin main
```

## Проверка статуса

- Перейдите в раздел Actions на GitHub
- Найдите последний запущенный workflow
- Проверьте статус выполнения

## Устранение проблем

1. **Ошибки подключения:** Проверьте правильность FTP/SSH данных
2. **Ошибки прав доступа:** Убедитесь, что у пользователя есть права на запись в папку
3. **Файлы не обновляются:** Проверьте путь `FTP_SERVER_DIR` или путь в SSH скрипте

## Поддержка

Если у вас возникли проблемы, проверьте:
- Логи в разделе Actions на GitHub
- Настройки вашего хостинг-провайдера
- Права доступа к файлам на сервере
